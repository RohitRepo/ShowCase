{% extends "base.html" %}
{% block html_attr_block %}ng-app="LoginApp"{% endblock %}

{% block title_block %}
	<title>Login - ThirdDime</title>
{%endblock%}

{% block meta_block %}
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
{%endblock%}

{% block css_block %}
	<!-- build:css /static/build/login.css -->
	<link rel="stylesheet" type="text/css" href="/static/bower_components/animate.css/animate.css">
	<link rel="stylesheet" type="text/css" href="/static/css/base.css">
	<link rel="stylesheet" type="text/css" href="/static/css/login/main.css">
	<!-- endbuild -->
{%endblock%}

{% block body_attr_block %}ng-controller="loginController"{% endblock %}

{% block content_block %}
	<header class="primary-header">
		<h1>Welcome to ThirdDime</h1>
		<h2>Please login to continue.</h2>
	</header>
	<section class="auth clearfix">
		<section class="social">
			<a class="facebook" href="/users/login/facebook/">LOGIN WITH FACEBOOK</a>
			<a class="google" href="/users/login/google/">LOGIN WITH GOOGLE</a>
		</section>
		<h5>Or</h5>	
		<section class="native">
			<form name="loginForm" ng-keyup="$event.keyCode == 13 ? login(user) : null">
				
				<input type="email" autofocus="autofocus" placeholder="E-mail" ng-model="user.email" name="uEmail" required ng-model-options="{ updateOn: 'blur' }">
				<div ng-cloak ng-show="loginForm.$submitted">
				    <span ng-show="loginForm.uEmail.$error.required">Please provide an email.</span>
				    <span ng-show="loginForm.uEmail.$error.email">This is not a valid email.</span>
			   </div>
				<input type="password" placeholder="Password" ng-model="user.password" name="uPassword" required >
				<div ng-loak ng-show="loginForm.$submitted">
				    <span ng-show="loginForm.uPassword.$error.required">Please provide a password.</span>
			   </div>
				<input class="login-button" ng-class="{'disabled': loginForm.$invalid}" ng-disabled="loginForm.$invalid" type="button" name="login" value="LOGIN" ng-click="login(user)">
			</form>
			<footer>
				<a href="">Forgotten your password?</a>
				<a href="/register">Sign Up</a>
			</footer>
		</section>
	</section>
{% endblock %}

{% block script_block %}
	<!-- build:js /static/build/login.js -->
	<script type="text/javascript" src="/static/js/login/login.module.js"></script>
	<script type="text/javascript" src="/static/js/login/login.controller.js"></script>
	<!-- endbuild -->
{% endblock %}