{% extends "base.html" %}
{% block html_attr_block %}ng-app="CompositionApp"{% endblock %}

{% block title_block %}
	<title>{{composition.title | title}} by {{composition.artist.name | title}} | Interpretations and Stories</title>
{%endblock%}

{% block meta_block %}
	<meta charset="UTF-8">
	<meta name="Description" content="Title: {{composition.title}}, Artist: {{composition.artist.name}}, Category: Painting Interpretations and Stories">
	<link rel="canonical" href="http://thirddime.com/arts/{{composition.slug}}" />
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta property="og:title" content="{{composition.title}}">
	<meta property="og:site_name" content="ThirdDime">
	<meta property="og:url" content="http://thirddime.com/arts/{{composition.slug}}">
	<meta property="og:description" content="{{top_interpretation}}">
	<meta property="og:image" content="http://thirddime.com/{{composition.matter.url}}">
	<meta property="og:type" content="website">
	<meta property="og:type" content="[462422103909005]">
{%endblock%}

{% block css_block %}
	 <!-- build:css /static/build/composition.css -->
	<link rel="stylesheet" type="text/css" href="/static/vendor/zoome/zoome-min.css">
	<link rel="stylesheet" type="text/css" href="/static/css/composition/main.css">
	<!-- endbuild -->
{%endblock%}

{% block body_attr_block %}ng-controller="compositionController" ng-init="init({{composition.id}}, '{{composition.matter.url}}', '{{composition.slug}}', '{{composition.title}}', '{{is_bookmarked}}')"{% endblock %}

{% block content_block %}
	<section class="painting-area">

		<div class="painting-container">
			<ul class="palette" ng-show="isColorPaletteActive" ng-cloak>
				<li style="background: rgb([[ dominantColor['0'] ]], [[ dominantColor['1'] ]], [[ dominantColor['2'] ]])"></li>
				<br><br>
				<li style="background: rgb([[ color['0'] ]], [[ color['1'] ]], [[ color['2'] ]])" ng-repeat="color in palette"></li>
			</ul>
			<img class="painting painting-original" fit-image src="{{composition.matter.url}}" ng-show="isGrayScaleActive=='inactive' && isOutlineActive=='inactive'" ng-cloak alt="{{composition.slug}}">
			<!-- <img class="painting painting-grayscale" fit-image src="{{composition.get_grayscale_url}}" ng-if="isGrayScaleActive=='active'" ng-cloak alt="{{composition.slug}} grayscale">
			<img class="painting painting-outline" fit-image src="{{composition.get_outline_url}}" ng-if="isOutlineActive=='active'" ng-cloak alt="{{composition.slug}} outline"> -->
		</div>


		<!-- <section tools-drawer class="art-tools">
			<button class="drawer-control">
			  <i class="material-icons">face</i>
			</button>
			<button>
			  <i class="material-icons">add</i>
			</button>
			<button>
			  <i class="material-icons">add</i>
			</button>
			<button>
			  <i class="material-icons">add</i>
			</button>
		</section> -->
	</section>

    <section class="painting-details" >
        <div class="painting-details-container">
            <h2>{{ composition.title | title }}</h2>

            <section class="painting-parent">
                <div class="by-header">Created By</div>
                <a class="by-user" href="/@{{composition.artist.slug}}">
                    <h3>{{composition.artist.name | title}}</h3>
                </a>
            </section>

            <section class="painting-parent">
                <div class="by-header">Uploaded By</div>
                <a class="by-user" ng-href="/@{{composition.uploader.slug}}" class="uploader">
                    <h3>{{composition.uploader.name | title}}</h3>
                </a>
            </section>

            <section class="details-actions-details">
                <h4 class="inactive">Views {{composition.views}}</h4>
                <h4 ng-click="showBookMarkers()">Admirers {{composition.bookmarks_count}}</h4>
                <h4 ng-click="showArtBuckets()">Series {{composition.buckets_count}}</h4>
            </section>

            <section class="details-actions">
                <button class="action admire" ng-class="{'active': composition.is_bookMarked}" ng-click="handleBookMark()">ADMIRE</button>
                <button class="action collect" ng-click="showAddToBucket()">Add To Series</button>
            </section>

        </div>

    </section>
{% endblock %}

{% block script_block %}
	<!-- build:js /static/build/composition.js -->
	<script type="text/javascript" src="/static/vendor/fullscreen/jquery.fullscreen.js"></script>
	<script type="text/javascript" src="/static/bower_components/color-thief/dist/color-thief.min.js"></script>
	<script type="text/javascript" src="/static/bower_components/jquery.panzoom/dist/jquery.panzoom.min.js"></script>
	<script type="text/javascript" src="/static/vendor/zoome/zoome.min.js"></script>

	<script type="text/javascript" src="/static/js/composition/composition.module.js"></script>
	<script type="text/javascript" src="/static/js/composition/composition.controller.js"></script>
	<script type="text/javascript" src="/static/js/composition/sticky.directive.js"></script>

    <script type="text/javascript" src="/static/js/composition/tools/tools.module.js"></script>
    <script type="text/javascript" src="/static/js/composition/tools/colors.directive.js"></script>
    <script type="text/javascript" src="/static/js/composition/tools/viewFinder.directive.js"></script>
    <script type="text/javascript" src="/static/js/composition/tools/fullscreen.directive.js"></script>
    <script type="text/javascript" src="/static/js/composition/tools/panZoom.directive.js"></script>
    <!-- endbuild -->
{% endblock %}